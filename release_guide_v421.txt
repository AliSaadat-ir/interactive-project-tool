# Release Guide for v4.2.1

## بهبود اصلی در این نسخه

### 🎯 Smart IDE Detection Enhancement
- **اولویت IDE های در حال اجرا**: حالا ابزار ابتدا IDE هایی که در حال اجرا هستند را تشخیص می‌دهد
- **نمایش وضعیت**: نشان می‌دهد که آیا IDE "currently running" است یا "launching"
- **بهبود تشخیص**: دقت بیشتر در تشخیص IDE ها در سیستم‌عامل‌های مختلف

### مثال عملکرد جدید:
```bash
🔍 Detecting running IDEs...
📍 Found running IDE(s): code, subl
📖 Opening file with code (currently running)
```

## دستورات Git برای Release v4.2.1

```bash
# 1. اطمینان از وجود در شاخه اصلی
git checkout main
git pull origin main

# 2. اضافه کردن تمام تغییرات
git add .

# 3. ایجاد commit با پیام مناسب
git commit -m "Release v4.2.1: Enhanced Smart IDE Detection

🔧 Enhanced Features:
- Smart IDE detection with priority for currently running editors
- Improved cross-platform IDE process detection
- Better priority system for file opening
- Enhanced feedback showing IDE status (running vs launching)

🎯 IDE Detection Improvements:
- Now detects currently running IDEs first (highest priority)
- Better process name matching for WebStorm, PhpStorm, IntelliJ
- Enhanced compatibility across Windows, macOS, and Linux
- More informative user feedback

💫 Priority System:
1. Currently running IDEs (detected automatically)
2. User's preferred IDE (from settings)
3. Common platform IDEs (VS Code, Sublime, etc.)
4. System default editor (fallback)

🐛 Technical Improvements:
- Enhanced process detection algorithms
- Better error handling in IDE detection
- Improved async operations for IDE launching
- More robust cross-platform compatibility"

# 4. ایجاد tag
git tag -a v4.2.1 -m "Version 4.2.1 - Enhanced Smart IDE Detection

Enhanced IDE Detection:
- Smart priority system for currently running IDEs
- Improved cross-platform process detection
- Better user feedback and status display
- Enhanced compatibility with various IDE versions

Technical Improvements:
- Robust IDE detection algorithms
- Better async file opening operations
- Enhanced error handling
- Improved cross-platform support

This release focuses on improving the IDE integration experience by intelligently detecting and prioritizing already running editors."

# 5. ارسال به GitHub
git push origin main
git push origin v4.2.1
```

## ویژگی‌های کلیدی نسخه 4.2.1

### 1. Enhanced IDE Detection

```javascript
// New detectRunningIDEs() function
async function detectRunningIDEs() {
  // Uses platform-specific commands:
  // Windows: tasklist /FO CSV
  // macOS/Linux: ps aux
  
  // Detects these IDEs:
  const ideMap = {
    'code': ['code', 'vscode', 'visual studio code'],
    'subl': ['subl', 'sublime', 'sublime_text'],
    'atom': ['atom'],
    'webstorm': ['webstorm'],
    'phpstorm': ['phpstorm'],
    'intellij': ['intellij', 'idea'],
    // ... and more
  };
}
```

### 2. Priority System

1. **Running IDEs** (Highest Priority)
   - Automatically detected
   - Shows "(currently running)" status

2. **User Preference** 
   - From settings menu
   - If not already running

3. **Common IDEs**
   - Platform-specific defaults
   - VS Code, Sublime Text, etc.

4. **System Default**
   - Fallback option
   - Platform text editor

### 3. Enhanced User Feedback

```bash
# Before v4.2.1
📖 Opening file with code...

# After v4.2.1  
🔍 Detecting running IDEs...
📍 Found running IDE(s): code, subl
📖 Opening file with code (currently running)
```

## تست‌های لازم

### 1. IDE Detection Test
```bash
# Test with no IDEs running
project-tool
# Should use defaults

# Test with VS Code running
code .
project-tool > Generate Report
# Should prioritize VS Code

# Test with multiple IDEs
code . && subl .
project-tool > Generate Report  
# Should show both and pick first
```

### 2. Cross-Platform Test
```bash
# Windows
# Test with VS Code, Notepad++, Atom

# macOS  
# Test with VS Code, Sublime Text, Atom

# Linux
# Test with VS Code, gedit, kate
```

### 3. Settings Integration
```bash
# Set preferred IDE in settings
project-tool > Settings > Report Opening Settings

# Test priority with/without running IDEs
```

## فایل‌های تغییر یافته

- `index.js` - اضافه شدن `detectRunningIDEs()` و بهبود `openFileWithIDE()`
- `README.md` - مستندات کامل جدید
- `VERSION` - آپدیت به 4.2.1
- `package.json` - آپدیت نسخه
- `CHANGELOG.md` - اضافه کردن entry جدید
- `release_guide_v421.md` - این فایل

## پس از Release

### تست‌های نهایی
- [ ] تست در Windows (VS Code, Notepad++)
- [ ] تست در macOS (VS Code, Sublime Text)  
- [ ] تست در Linux (VS Code, gedit)
- [ ] تست multi-IDE scenarios
- [ ] تست settings integration

### مستندات
- [ ] آپدیت GitHub release notes
- [ ] بررسی README تغییرات
- [ ] تست نصب از npm/GitHub

## GitHub Release Description Template

```markdown
## Project Tool v4.2.1 - Enhanced Smart IDE Detection

### 🎯 Key Enhancement

#### 🔍 Smart IDE Detection with Running Editor Priority
This release significantly improves the IDE integration experience by intelligently detecting and prioritizing editors that are already running on your system.

**How it works:**
1. **Detects Running IDEs**: Automatically scans for currently running code editors
2. **Priority Opening**: Opens files in already-running editors first
3. **Status Feedback**: Shows whether IDE is "currently running" or "launching"
4. **Cross-Platform**: Works seamlessly on Windows, macOS, and Linux

**Example workflow:**
```bash
🔍 Detecting running IDEs...
📍 Found running IDE(s): code, subl  
📖 Opening file with code (currently running)
```

### ✨ What's New

#### Enhanced Priority System
1. **Currently Running IDEs** (Highest Priority) - New! 🆕
2. **User's Preferred IDE** (From settings)
3. **Common Platform IDEs** (VS Code, Sublime Text, etc.)
4. **System Default Editor** (Fallback)

#### Better IDE Support
- **WebStorm/PhpStorm/IntelliJ**: Improved detection
- **Cross-Platform**: Enhanced compatibility across all operating systems
- **Process Matching**: Better algorithm for detecting IDE processes
- **Error Handling**: More robust IDE launching with fallbacks

### 🔧 Technical Improvements
- New `detectRunningIDEs()` function with platform-specific detection
- Enhanced async operations for smoother file opening
- Better error handling and fallback mechanisms
- Improved cross-platform process detection

### 📋 Installation

```bash
git clone https://github.com/AliSaadat-ir/interactive-project-tool.git
cd interactive-project-tool
npm install -g .
project-tool
```

### 🎮 Try It Out

1. Open your favorite code editor (VS Code, Sublime Text, etc.)
2. Run `project-tool`
3. Generate a translation report or open any file
4. Watch as it automatically detects and uses your running editor! 🎉

---

**Full Changelog**: [v4.2.0...v4.2.1](https://github.com/AliSaadat-ir/interactive-project-tool/compare/v4.2.0...v4.2.1)
```

## Rollback در صورت نیاز

```bash
# حذف tag
git tag -d v4.2.1
git push origin :refs/tags/v4.2.1

# بازگشت commit
git revert HEAD
git push origin main
```